var app=function(){"use strict";class t{constructor(t,e){this.map=e,this.markerData=t,this.marker=null,this.render(),this.bindEventListeners()}bindEventListeners(){let t=this.map,e=this.markerData;this.marker;this.marker.addEventListener("click",(()=>{let s=document.querySelector(`[data-list-id="${e.properties.id}"]`),a=document.querySelectorAll("[data-list-id]"),i=[].find.call(a,(t=>t.classList.contains("is-active")));i&&i.classList.remove("is-active"),s.classList.add("is-active"),s.scrollIntoView({behavior:"smooth",block:"center"}),t.easeTo({center:e.geometry.coordinates,bearing:180,pitch:70,zoom:12,duration:1500})}))}render(){this.marker=document.createElement("button"),this.marker.classList.add("marker"),this.marker.setAttribute("data-map-link",`${this.markerData.properties.id}`),this.marker.innerHTML=`<div data-map-tooltip="">${this.markerData.properties.text}</div>`,this.marker.style.backgroundImage='url("/assets/img/marker.svg")'}}class e{constructor(t,e){this.markerData=t,this.map=e,this.listEl=null,this.createListElement(),this.bindEventListeners()}bindEventListeners(){let t=this.map,e=this.markerData;this.listEl.addEventListener("click",(()=>{let s=document.querySelectorAll("[data-list-id]"),a=[].find.call(s,(t=>t.classList.contains("is-active")));a&&a.classList.remove("is-active"),this.listEl.classList.add("is-active"),t.easeTo({center:e.geometry.coordinates,bearing:180,pitch:70,zoom:12,duration:1500})}))}createListElement(){this.listEl=document.createElement("button"),this.listEl.classList.add("map_list_element"),this.listEl.setAttribute("data-list-id",`${this.markerData.properties.id}`),this.listEl.innerHTML=`${this.markerData.properties.text}`}}class s{constructor(t,e){this.markerData=t,this.map=e,this.button=null,this.mapList=document.querySelector("[data-map-list] .simplebar-content")}createList(){this.button=new e(this.markerData,this.map).listEl,this.mapList.appendChild(this.button)}}return class{constructor({container:t,markers:e,token:s,style:a,zoom:i,mapCenter:r}){this.container=t,this.markers=e,this.map=null,this.token=s,this.style=a,this.mapCenter=r,this.zoom=i,this.markerList={},this.createMap(),this.bindEventListeners()}bindEventListeners(){let{markers:e,map:s}=this;this.map.on("load",(()=>{e.features.forEach((e=>{new mapboxgl.Marker(new t(e,s).marker,{offset:[0,-46]}).setLngLat(e.geometry.coordinates).addTo(s)})),s.addSource("markers",{type:"geojson",data:e}),s.getSource("markers").setData(e)}))}createMap(){mapboxgl.accessToken=this.token,this.map=new mapboxgl.Map({container:this.container,style:this.style,center:this.mapCenter,zoom:this.zoom}),this.map.scrollZoom.disable(),this.map.addControl(new mapboxgl.NavigationControl)}createList(){this.markers.features.forEach((t=>{new s(t,this.map)}))}}}();